from typing import Final

from src.domain.value_objects.types import Type

SUPER_EFFECTIVE: Final[float] = 1.6
NOT_VERY_EFFECTIVE: Final[float] = 0.625
NO_EFFECT: Final[float] = 0.390625  # 0.625^2
NORMAL_EFFECTIVENESS: Final[float] = 1.0

TYPE_EFFECTIVENESS: Final[dict[tuple[Type, Type], float]] = {
    # Normal attacking
    (Type.NORMAL, Type.BUG): NOT_VERY_EFFECTIVE,
    (Type.NORMAL, Type.GHOST): NO_EFFECT,
    (Type.NORMAL, Type.STEEL): NOT_VERY_EFFECTIVE,
    # Fire attacking
    (Type.FIRE, Type.FIRE): NOT_VERY_EFFECTIVE,
    (Type.FIRE, Type.WATER): NOT_VERY_EFFECTIVE,
    (Type.FIRE, Type.GRASS): SUPER_EFFECTIVE,
    (Type.FIRE, Type.ICE): SUPER_EFFECTIVE,
    (Type.FIRE, Type.BUG): SUPER_EFFECTIVE,
    (Type.FIRE, Type.ROCK): NOT_VERY_EFFECTIVE,
    (Type.FIRE, Type.DRAGON): NOT_VERY_EFFECTIVE,
    (Type.FIRE, Type.STEEL): SUPER_EFFECTIVE,
    # Water attacking
    (Type.WATER, Type.FIRE): SUPER_EFFECTIVE,
    (Type.WATER, Type.WATER): NOT_VERY_EFFECTIVE,
    (Type.WATER, Type.GRASS): NOT_VERY_EFFECTIVE,
    (Type.WATER, Type.GROUND): SUPER_EFFECTIVE,
    (Type.WATER, Type.ROCK): SUPER_EFFECTIVE,
    (Type.WATER, Type.DRAGON): NOT_VERY_EFFECTIVE,
    # Grass attacking
    (Type.GRASS, Type.FIRE): NOT_VERY_EFFECTIVE,
    (Type.GRASS, Type.WATER): SUPER_EFFECTIVE,
    (Type.GRASS, Type.GRASS): NOT_VERY_EFFECTIVE,
    (Type.GRASS, Type.POISON): NOT_VERY_EFFECTIVE,
    (Type.GRASS, Type.GROUND): SUPER_EFFECTIVE,
    (Type.GRASS, Type.FLYING): NOT_VERY_EFFECTIVE,
    (Type.GRASS, Type.BUG): NOT_VERY_EFFECTIVE,
    (Type.GRASS, Type.ROCK): SUPER_EFFECTIVE,
    (Type.GRASS, Type.DRAGON): NOT_VERY_EFFECTIVE,
    (Type.GRASS, Type.STEEL): NOT_VERY_EFFECTIVE,
    # Electric attacking
    (Type.ELECTRIC, Type.WATER): SUPER_EFFECTIVE,
    (Type.ELECTRIC, Type.ELECTRIC): NOT_VERY_EFFECTIVE,
    (Type.ELECTRIC, Type.GRASS): NOT_VERY_EFFECTIVE,
    (Type.ELECTRIC, Type.GROUND): NO_EFFECT,
    (Type.ELECTRIC, Type.FLYING): SUPER_EFFECTIVE,
    (Type.ELECTRIC, Type.DRAGON): NOT_VERY_EFFECTIVE,
    # Ice attacking
    (Type.ICE, Type.FIRE): NOT_VERY_EFFECTIVE,
    (Type.ICE, Type.WATER): NOT_VERY_EFFECTIVE,
    (Type.ICE, Type.GRASS): SUPER_EFFECTIVE,
    (Type.ICE, Type.ICE): NOT_VERY_EFFECTIVE,
    (Type.ICE, Type.GROUND): SUPER_EFFECTIVE,
    (Type.ICE, Type.FLYING): SUPER_EFFECTIVE,
    (Type.ICE, Type.DRAGON): SUPER_EFFECTIVE,
    (Type.ICE, Type.STEEL): NOT_VERY_EFFECTIVE,
    # Fighting attacking
    (Type.FIGHTING, Type.NORMAL): SUPER_EFFECTIVE,
    (Type.FIGHTING, Type.ICE): SUPER_EFFECTIVE,
    (Type.FIGHTING, Type.POISON): NOT_VERY_EFFECTIVE,
    (Type.FIGHTING, Type.FLYING): NOT_VERY_EFFECTIVE,
    (Type.FIGHTING, Type.PSYCHIC): NOT_VERY_EFFECTIVE,
    (Type.FIGHTING, Type.BUG): NOT_VERY_EFFECTIVE,
    (Type.FIGHTING, Type.ROCK): SUPER_EFFECTIVE,
    (Type.FIGHTING, Type.GHOST): NO_EFFECT,
    (Type.FIGHTING, Type.DARK): SUPER_EFFECTIVE,
    (Type.FIGHTING, Type.STEEL): SUPER_EFFECTIVE,
    (Type.FIGHTING, Type.FAIRY): NOT_VERY_EFFECTIVE,
    # Poison attacking
    (Type.POISON, Type.GRASS): SUPER_EFFECTIVE,
    (Type.POISON, Type.POISON): NOT_VERY_EFFECTIVE,
    (Type.POISON, Type.GROUND): NOT_VERY_EFFECTIVE,
    (Type.POISON, Type.ROCK): NOT_VERY_EFFECTIVE,
    (Type.POISON, Type.GHOST): NOT_VERY_EFFECTIVE,
    (Type.POISON, Type.STEEL): NO_EFFECT,
    (Type.POISON, Type.FAIRY): SUPER_EFFECTIVE,
    # Ground attacking
    (Type.GROUND, Type.FIRE): SUPER_EFFECTIVE,
    (Type.GROUND, Type.ELECTRIC): SUPER_EFFECTIVE,
    (Type.GROUND, Type.GRASS): NOT_VERY_EFFECTIVE,
    (Type.GROUND, Type.POISON): SUPER_EFFECTIVE,
    (Type.GROUND, Type.FLYING): NO_EFFECT,
    (Type.GROUND, Type.BUG): NOT_VERY_EFFECTIVE,
    (Type.GROUND, Type.ROCK): SUPER_EFFECTIVE,
    (Type.GROUND, Type.STEEL): SUPER_EFFECTIVE,
    # Flying attacking
    (Type.FLYING, Type.ELECTRIC): NOT_VERY_EFFECTIVE,
    (Type.FLYING, Type.GRASS): SUPER_EFFECTIVE,
    (Type.FLYING, Type.FIGHTING): SUPER_EFFECTIVE,
    (Type.FLYING, Type.BUG): SUPER_EFFECTIVE,
    (Type.FLYING, Type.ROCK): NOT_VERY_EFFECTIVE,
    (Type.FLYING, Type.STEEL): NOT_VERY_EFFECTIVE,
    # Psychic attacking
    (Type.PSYCHIC, Type.FIGHTING): SUPER_EFFECTIVE,
    (Type.PSYCHIC, Type.POISON): SUPER_EFFECTIVE,
    (Type.PSYCHIC, Type.PSYCHIC): NOT_VERY_EFFECTIVE,
    (Type.PSYCHIC, Type.DARK): NO_EFFECT,
    (Type.PSYCHIC, Type.STEEL): NOT_VERY_EFFECTIVE,
    # Bug attacking
    (Type.BUG, Type.FIRE): NOT_VERY_EFFECTIVE,
    (Type.BUG, Type.GRASS): SUPER_EFFECTIVE,
    (Type.BUG, Type.FIGHTING): NOT_VERY_EFFECTIVE,
    (Type.BUG, Type.POISON): NOT_VERY_EFFECTIVE,
    (Type.BUG, Type.FLYING): NOT_VERY_EFFECTIVE,
    (Type.BUG, Type.PSYCHIC): SUPER_EFFECTIVE,
    (Type.BUG, Type.GHOST): NOT_VERY_EFFECTIVE,
    (Type.BUG, Type.DARK): SUPER_EFFECTIVE,
    (Type.BUG, Type.STEEL): NOT_VERY_EFFECTIVE,
    (Type.BUG, Type.FAIRY): NOT_VERY_EFFECTIVE,
    # Rock attacking
    (Type.ROCK, Type.FIRE): SUPER_EFFECTIVE,
    (Type.ROCK, Type.ICE): SUPER_EFFECTIVE,
    (Type.ROCK, Type.FIGHTING): NOT_VERY_EFFECTIVE,
    (Type.ROCK, Type.GROUND): NOT_VERY_EFFECTIVE,
    (Type.ROCK, Type.FLYING): SUPER_EFFECTIVE,
    (Type.ROCK, Type.BUG): SUPER_EFFECTIVE,
    (Type.ROCK, Type.STEEL): NOT_VERY_EFFECTIVE,
    # Ghost attacking
    (Type.GHOST, Type.NORMAL): NO_EFFECT,
    (Type.GHOST, Type.PSYCHIC): SUPER_EFFECTIVE,
    (Type.GHOST, Type.GHOST): SUPER_EFFECTIVE,
    (Type.GHOST, Type.DARK): NOT_VERY_EFFECTIVE,
    # Dragon attacking
    (Type.DRAGON, Type.DRAGON): SUPER_EFFECTIVE,
    (Type.DRAGON, Type.STEEL): NOT_VERY_EFFECTIVE,
    (Type.DRAGON, Type.FAIRY): NO_EFFECT,
    # Dark attacking
    (Type.DARK, Type.FIGHTING): NOT_VERY_EFFECTIVE,
    (Type.DARK, Type.PSYCHIC): SUPER_EFFECTIVE,
    (Type.DARK, Type.GHOST): SUPER_EFFECTIVE,
    (Type.DARK, Type.DARK): NOT_VERY_EFFECTIVE,
    (Type.DARK, Type.FAIRY): NOT_VERY_EFFECTIVE,
    # Steel attacking
    (Type.STEEL, Type.FIRE): NOT_VERY_EFFECTIVE,
    (Type.STEEL, Type.WATER): NOT_VERY_EFFECTIVE,
    (Type.STEEL, Type.ELECTRIC): NOT_VERY_EFFECTIVE,
    (Type.STEEL, Type.ICE): SUPER_EFFECTIVE,
    (Type.STEEL, Type.ROCK): SUPER_EFFECTIVE,
    (Type.STEEL, Type.STEEL): NOT_VERY_EFFECTIVE,
    (Type.STEEL, Type.FAIRY): SUPER_EFFECTIVE,
    # Fairy attacking
    (Type.FAIRY, Type.FIRE): NOT_VERY_EFFECTIVE,
    (Type.FAIRY, Type.FIGHTING): SUPER_EFFECTIVE,
    (Type.FAIRY, Type.POISON): NOT_VERY_EFFECTIVE,
    (Type.FAIRY, Type.DRAGON): SUPER_EFFECTIVE,
    (Type.FAIRY, Type.DARK): SUPER_EFFECTIVE,
    (Type.FAIRY, Type.STEEL): NOT_VERY_EFFECTIVE,
}
